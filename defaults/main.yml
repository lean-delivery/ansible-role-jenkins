---
# defaults file for ansible-role-jenkins
jenkins2_user: jenkins
jenkins2_package_version: jenkins
# Choose release line between stable and latest
jenkins2_release_line: stable
jenkins2_jenkins2_disable_gpg_check: False
jenkins2_key_validate_certs: True
jenkins2_context_path: ''
jenkins2_cli_username: admin
jenkins2_cli_password: admin
jenkins2_home_directory: /var/lib/jenkins

jenkins2_config_java_cmd: ''
jenkins2_config_java_options: "-Djava.awt.headless=true -Djenkins.install.runSetupWizard=false \
-Dmail.smtp.starttls.enable='true' -Dhudson.slaves.WorkspaceList=_"
jenkins2_config_http_port: 8080
jenkins2_config_listen_address: ''
jenkins2_config_debug_level: 5
jenkins2_config_enable_access_log: "no"
jenkins2_config_handler_max: 100
jenkins2_config_handler_idle: 20
jenkins2_config_args: ''

jenkins2_proxy_url: ''
jenkins2_proxy_host: ''
jenkins2_proxy_port: 0
jenkins2_proxy_username: ''
jenkins2_proxy_password: ''
jenkins2_proxy_no_proxy_hosts: ''

# SSH_KEYS generation properties
jenkins2_ssh_keys_generate: False
jenkins2_ssh_keys_private_keyname: "id_rsa"
jenkins2_ssh_keys_size: 4096
jenkins2_ssh_keys_inv_slave_groupname: "jenkins_ssh_slaves"

jenkins2_ssh_keys_slave_group: "{{ groups[jenkins2_ssh_keys_inv_slave_groupname]|default([''])}}"
jenkins2_ssh_keys_slave_hosts: "{%- set users = [] %}
    {%- for host in jenkins2_ssh_keys_slave_group %}
    {{- users.append(dict(host=host, users=hostvars[host]['jenkins_ssh_user']|default([]))) }}
    {%- endfor %}
    {{- users -}}"
jenkins2_ssh_keys_slave_ips: "{%- set ips = [] %}{%- for host in jenkins2_ssh_keys_slave_group %}
    {{- ips.append(dict(host=host, ips=hostvars[host]['ansible_all_ipv4_addresses']|default([]))) }}
    {%- endfor %}
    {{- ips -}}"
jenkins2_ssh_keys_slave_group_exist: "{{ ((jenkins2_ssh_keys_slave_group)[0]|default(''))  != ''}}"

# SMTP properties
jenkins2_smtp_enabled: True
jenkins2_smtp_sysad_email: "usermail@test.com"
jenkins2_smtp_user: "usermail@test.com"
jenkins2_smtp_password: "password"
jenkins2_smtp_port: "587"
jenkins2_smtp_host: "smtp.office365.com"
# Plugin installation
jenkins2_plugins_timeout: 1000
jenkins2_plugins_suggested:
  - ant
  - antisamy-markup-formatter
  - blueocean
  - build-timeout
  - cloudbees-folder
  - credentials-binding
  - email-ext
  - file-operations
  - git
  - gradle
  - greenballs
  - jira
  - ldap
  - mailer
  - matrix-auth
  - pam-auth
  - pipeline-stage-view
  - pipeline-utility-steps
  - role-strategy
  - ssh-agent
  - ssh-slaves
  - subversion
  - timestamper
  - workflow-aggregator
  - ws-cleanup
  - job-dsl
jenkins2_plugins_list: []

# Set Credentials
jenkins2_credentials_enabled: True
jenkins2_credentials:
  slave:
    type: 'password'
    id: 'ci_slave'
    description: 'credentials for jenkins slave'
    username: 'user'
    password: 'password'
  jira:
    type: 'password'
    id: 'jirauser'
    description: 'username and password for jira'
    username: 'jiraUser'
    password: 'JiraUserPassword'
  pipeline_libraries:
    type: 'password'
    id: 'pipeline_libraries'
    description: 'username and password for pipeline libraries'
    username: 'pipelineLibrariesUser'
    password: 'pipelineLibrariesPassword'
  bitbucket_project:
    type: 'password'
    id: 'bitbucket_project'
    description: 'username and password for bitbucket project'
    username: 'bitbucketProjectUser'
    password: 'bitbucketProjectPassword'

# Configure pipeline libraries
jenkins2_pipeline_libraries_enabled: False
jenkins2_pipeline_libraries_name: 'Pipeline_Libraries'
jenkins2_pipeline_libraries_url: ''
jenkins2_pipeline_libraries_version: 'master'

# Configure bitbucket project
jenkins2_bitbucket_project_enabled: False
jenkins2_bitbucket_project_owner: 'Bitbucket_Project_Owner'
jenkins2_bitbucket_project_repo_regexp: ''
jenkins2_bitbucket_project_discover_branches_strategy: 1
jenkins2_bitbucket_project_discover_pr_strategy: 1
jenkins2_bitbucket_project_scan_interval: 10
jenkins2_bitbucket_project_autobuild_branches: 'master'
